# Documentation Part 6: Scripts & Utilities

This document covers utility scripts and other supporting files.

## Directory Structure

```
scripts/
├── check-template-health.js      # Template validation script
└── template-health-report.js     # Template health reporting
```

---

## Scripts Directory (`scripts/`)

### `scripts/check-template-health.js`
**Purpose**: Validates template structure and completeness.

**What it does**:
- Scans `packages/solana/templates/` directory
- For each template, checks:
  - Existence of `program/lib.rs` (Rust program file)
  - Existence of `metadata.json` (template metadata)
  - Existence of `line-explanations.json` (code explanations)
- Validates that all non-empty code lines have explanations
- Reports missing explanations with line numbers
- Calculates statistics (total lines, explained lines, missing lines)
- Exits with error code if any template has issues
- Prints status for each template (OK/FAIL)

**Usage**:
```bash
node scripts/check-template-health.js
```

**Output**:
- Console output showing status of each template
- Error exit code if validation fails
- Success message if all templates are valid

**If removed**:
- No automated template validation
- Template quality issues might go unnoticed
- Manual checking required before deployment
- CI/CD pipeline would lose template validation step

**Dependencies**:
- Requires `packages/solana/templates/` directory
- Requires Node.js filesystem access
- Reads template files directly

---

### `scripts/template-health-report.js`
**Purpose**: Generates detailed template health reports.

**What it does**:
- Similar to `check-template-health.js` but generates reports
- May output to file or formatted console output
- Provides detailed statistics
- May generate HTML or markdown reports
- Useful for documentation or CI/CD reporting

**Usage**:
```bash
node scripts/template-health-report.js
```

**If removed**:
- No detailed health reports
- Less visibility into template quality
- Manual reporting needed

**Note**: This file may not exist in all versions. Check if it exists before documenting.

---

## Other Utility Files

### Root Level Test Results

#### `test-results.txt`
**Purpose**: Test execution results output.

**What it does**:
- Stores test results from test runs
- May be generated by CI/CD
- Used for test reporting

**If removed**:
- Test results would not be persisted
- Can be regenerated by running tests
- Not critical for application functionality

---

## CI/CD Integration

These scripts are typically used in:
- Pre-commit hooks
- CI/CD pipelines
- Deployment checks
- Development workflow

**Example CI/CD Usage**:
```yaml
# Example GitHub Actions
- name: Check Template Health
  run: node scripts/check-template-health.js
```

---

## Development Workflow

### Before Committing Templates
1. Run `check-template-health.js` to validate
2. Fix any reported issues
3. Commit template changes

### Before Deployment
1. Run template health check
2. Ensure all templates pass validation
3. Deploy

---

## Script Maintenance

### Adding New Templates
When adding a new template:
1. Create template directory in `packages/solana/templates/[template-id]/`
2. Add required files:
   - `program/lib.rs`
   - `metadata.json`
   - `line-explanations.json`
3. Run `check-template-health.js` to validate
4. Fix any issues reported

### Template Structure Requirements
Templates must have:
- **program/lib.rs**: Rust/Anchor program code
- **metadata.json**: Template metadata with:
  - `name`: Template name
  - `description`: Template description
  - `difficulty`: Difficulty level
- **line-explanations.json**: Array of line explanations with:
  - `line`: Line number
  - `what`: What the line does
  - `why`: Why it's needed
  - `concepts`: Related concepts

---

## Summary

**Critical Scripts**:
- `check-template-health.js` - Template validation (important for quality)

**Optional Scripts**:
- `template-health-report.js` - Reporting (if exists)

**Generated Files**:
- `test-results.txt` - Can regenerate

**Best Practices**:
- Run health checks before committing templates
- Include in CI/CD pipeline
- Fix issues before deployment
- Keep scripts updated with template structure changes

**If All Scripts Removed**:
- No automated template validation
- Manual quality checks required
- CI/CD would need alternative validation
- Development workflow would be less automated

