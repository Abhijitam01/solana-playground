[
  {
    "lineNumber": 1,
    "what": "Import statement bringing Anchor's prelude module into scope",
    "why": "The prelude contains all the essential types and macros needed for Anchor programs, including Context, Result, and account derive macros",
    "solanaConcept": "Anchor Framework",
    "rustConcept": "Module system and prelude pattern",
    "whatBreaksIfRemoved": "The program won't compile - missing essential types like Context, Result, and macros like msg! and declare_id!",
    "isImportant": true
  },
  {
    "lineNumber": 3,
    "what": "Declares the program's unique identifier (Program ID)",
    "why": "Every Solana program must have a unique ID that identifies it on-chain. This is used for account ownership and program-derived addresses",
    "solanaConcept": "Program ID",
    "rustConcept": "Macro invocation",
    "whatBreaksIfRemoved": "The program won't compile - Anchor requires a program ID to be declared",
    "isImportant": true
  },
  {
    "lineNumber": 5,
    "what": "The #[program] attribute macro marks the module as the main program entry point",
    "why": "This macro generates all the boilerplate code needed to interface with the Solana runtime, including instruction handlers and account validation",
    "solanaConcept": "Program Entry Point",
    "rustConcept": "Attribute macros and code generation",
    "whatBreaksIfRemoved": "Anchor won't recognize this as a program module, causing compilation errors",
    "isImportant": true
  },
  {
    "lineNumber": 8,
    "what": "Function signature defining a public instruction handler",
    "why": "This is the entry point for the 'say_hello' instruction. It receives a Context containing accounts and returns a Result",
    "solanaConcept": "Instructions",
    "rustConcept": "Function signatures and error handling with Result",
    "whatBreaksIfRemoved": "No instruction handler exists - the program can't process any transactions",
    "isImportant": true
  },
  {
    "lineNumber": 9,
    "what": "Logs a message to the transaction log",
    "why": "msg! is the Anchor way to log data. These logs appear in transaction results and are useful for debugging",
    "solanaConcept": "Transaction Logs",
    "rustConcept": "Macros",
    "whatBreaksIfRemoved": "No output - you won't see any logs when the instruction executes",
    "isImportant": false
  },
  {
    "lineNumber": 10,
    "what": "Logs the program's ID",
    "why": "Demonstrates how to access the program ID from the context. Useful for understanding which program is executing",
    "solanaConcept": "Program ID",
    "rustConcept": "String formatting with format! macro",
    "whatBreaksIfRemoved": "Nothing breaks, but you lose visibility into which program is running",
    "isImportant": false
  },
  {
    "lineNumber": 11,
    "what": "Logs the user's public key",
    "why": "Shows how to access account data from the context. The user account is a signer, so we can access its key",
    "solanaConcept": "Account Access",
    "rustConcept": "Method chaining and key access",
    "whatBreaksIfRemoved": "Nothing breaks, but you lose visibility into who called the instruction",
    "isImportant": false
  },
  {
    "lineNumber": 12,
    "what": "Returns Ok(()) indicating successful execution",
    "why": "All Anchor instruction handlers must return Result<()>. Ok(()) means success, Err means the instruction failed",
    "solanaConcept": "Transaction Success/Failure",
    "rustConcept": "Result type and error handling",
    "whatBreaksIfRemoved": "The function won't compile - missing return type",
    "isImportant": true
  },
  {
    "lineNumber": 16,
    "what": "The #[derive(Accounts)] macro generates account validation code",
    "why": "This macro automatically validates that accounts match the expected structure, mutability, and ownership before the instruction runs",
    "solanaConcept": "Account Validation",
    "rustConcept": "Derive macros and trait implementation",
    "whatBreaksIfRemoved": "No account validation - security risk and compilation error",
    "isImportant": true
  },
  {
    "lineNumber": 17,
    "what": "Defines a mutable user account that must be a signer",
    "why": "The #[account(mut)] attribute marks this account as mutable (can be modified). Signer ensures the transaction is signed by this account's keypair",
    "solanaConcept": "Account Mutability and Signers",
    "rustConcept": "Generic types and lifetime parameters",
    "whatBreaksIfRemoved": "The account won't be validated as mutable or a signer, causing security issues",
    "isImportant": true
  },
  {
    "lineNumber": 18,
    "what": "References the System Program",
    "why": "The System Program is Solana's core program that handles account creation and lamport transfers. Most programs need to reference it",
    "solanaConcept": "System Program",
    "rustConcept": "Type system and program references",
    "whatBreaksIfRemoved": "If you need to create accounts or transfer lamports, you won't have access to the System Program",
    "isImportant": false
  }
]

