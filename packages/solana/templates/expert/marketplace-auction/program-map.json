{
  "flow": [
    {
      "id": "initialize",
      "title": "Initialize Auction",
      "description": "Create the auction state and its vault PDA.",
      "lineRange": [9, 33],
      "concepts": ["Auctions", "PDA"]
    },
    {
      "id": "bid",
      "title": "Place Bid",
      "description": "Validate bids, refund the previous bidder, and update state.",
      "lineRange": [35, 59],
      "concepts": ["Auctions", "Lamports"]
    },
    {
      "id": "settle",
      "title": "Settle Auction",
      "description": "Pay the seller and mark the auction settled.",
      "lineRange": [62, 75],
      "concepts": ["Auctions", "Settlement"]
    }
  ],
  "instructions": [
    {
      "name": "initialize_auction",
      "lineStart": 9,
      "lineEnd": 33,
      "accounts": [
        {"name": "auction", "isMut": true, "isSigner": false, "isPda": false},
        {"name": "vault", "isMut": true, "isSigner": false, "isPda": true, "seeds": ["vault", "auction.key()"]},
        {"name": "seller", "isMut": true, "isSigner": true, "isPda": false},
        {"name": "system_program", "isMut": false, "isSigner": false, "isPda": false}
      ],
      "description": "Initializes auction state and escrow vault."
    },
    {
      "name": "place_bid",
      "lineStart": 35,
      "lineEnd": 59,
      "accounts": [
        {"name": "auction", "isMut": true, "isSigner": false, "isPda": false},
        {"name": "vault", "isMut": true, "isSigner": false, "isPda": true, "seeds": ["vault", "auction.key()"]},
        {"name": "bidder", "isMut": true, "isSigner": true, "isPda": false},
        {"name": "previous_bidder", "isMut": true, "isSigner": false, "isPda": false}
      ],
      "description": "Places a bid, refunds the previous bidder, and updates state."
    },
    {
      "name": "settle",
      "lineStart": 62,
      "lineEnd": 75,
      "accounts": [
        {"name": "auction", "isMut": true, "isSigner": false, "isPda": false},
        {"name": "vault", "isMut": true, "isSigner": false, "isPda": true, "seeds": ["vault", "auction.key()"]},
        {"name": "seller", "isMut": true, "isSigner": true, "isPda": false}
      ],
      "description": "Pays the seller and marks the auction as settled."
    }
  ],
  "accounts": [
    {
      "name": "Auction",
      "lineStart": 119,
      "lineEnd": 128,
      "fields": [
        {"name": "seller", "type": "Pubkey", "description": "Seller public key"},
        {"name": "min_bid", "type": "u64", "description": "Minimum bid amount"},
        {"name": "end_ts", "type": "i64", "description": "Auction end time"},
        {"name": "highest_bid", "type": "u64", "description": "Highest bid value"},
        {"name": "highest_bidder", "type": "Pubkey", "description": "Highest bidder public key"},
        {"name": "settled", "type": "bool", "description": "Settlement flag"},
        {"name": "bump", "type": "u8", "description": "Vault PDA bump"}
      ]
    },
    {
      "name": "Vault",
      "lineStart": 134,
      "lineEnd": 138,
      "fields": [
        {"name": "auction", "type": "Pubkey", "description": "Owning auction"},
        {"name": "bump", "type": "u8", "description": "Vault PDA bump"}
      ]
    }
  ],
  "cpiCalls": []
}
