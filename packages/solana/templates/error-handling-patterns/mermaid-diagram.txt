flowchart TD
    initialize["Initialize Account"] --> stateInitialized["State Initialized"]
    stateInitialized --> checkAuthority["Check Authority"]
    checkAuthority --> authorityChecked["Authority Checked"]
    authorityChecked --> initializeState["Initialize State"]
    initializeState --> stateCreated["State Created"]
    consume["Consume Units"] --> checkAuthority2["Check Authority"]
    checkAuthority2 --> authorityChecked2["Authority Checked"]
    authorityChecked2 --> checkAmount["Check Amount"]
    checkAmount --> amountChecked["Amount Checked"]
    amountChecked --> checkLimit["Check Limit"]
    checkLimit --> limitChecked["Limit Checked"]
    limitChecked --> updateState["Update State"]
    updateState --> stateUpdated["State Updated"]
    checkAuthority -.-> unauthorized["Unauthorized"]
    checkAmount -.-> invalidAmount["Invalid Amount"]
    checkLimit -.-> limitExceeded["Limit Exceeded"]
    updateState -.-> overflow["Overflow"]