[
  {"line":1,"type":"macro","summary":"Import Anchor prelude types and macros.","why":"Provides Context, Result, Account, and macros used below.","concepts":["Anchor"]},
  {"line":3,"type":"macro","summary":"Declare the program ID for this program.","why":"Solana uses this ID to route instructions.","risk":"Program will not compile without a declared ID.","concepts":["Program ID"]},
  {"line":5,"type":"macro","summary":"Mark the module as the Anchor program entry point.","why":"Anchor generates instruction dispatch from this module.","concepts":["Instructions"]},
  {"line":6,"type":"instruction","summary":"Define the program module namespace.","concepts":["Program Structure"]},
  {"line":7,"type":"logic","summary":"Bring parent module symbols into scope.","concepts":["Rust Modules"]},

  {"line":9,"type":"instruction","summary":"Define the initialize instruction handler.","why":"Creates the counter account and stores initial state.","concepts":["Account Initialization","Instructions"]},
  {"line":10,"type":"logic","summary":"Create a mutable reference to the counter account.","why":"Allows writing state fields.","concepts":["Accounts"]},
  {"line":11,"type":"logic","summary":"Store the initial counter value.","concepts":["State"]},
  {"line":12,"type":"logic","summary":"Store the authority public key.","why":"Defines who can update the counter.","risk":"Wrong authority breaks access control.","concepts":["Authority"]},
  {"line":13,"type":"macro","summary":"Log the initialization value.","concepts":["Logs"]},
  {"line":14,"type":"logic","summary":"Return success from initialize.","concepts":["Result"]},
  {"line":15,"type":"logic","summary":"End of initialize handler.","concepts":["Rust"]},

  {"line":17,"type":"instruction","summary":"Define the increment instruction handler.","why":"Updates the counter value by one.","concepts":["Instructions","State Mutation"]},
  {"line":18,"type":"logic","summary":"Create a mutable reference to the counter.","concepts":["Accounts"]},
  {"line":19,"type":"logic","summary":"Start updating the counter value.","concepts":["State"]},
  {"line":20,"type":"logic","summary":"Read the current counter value.","concepts":["State"]},
  {"line":21,"type":"logic","summary":"Perform safe addition to prevent overflow.","why":"checked_add returns None on overflow.","concepts":["Error Handling"]},
  {"line":22,"type":"security","summary":"Return Overflow error if addition fails.","why":"Prevents corrupt state on overflow.","concepts":["Errors","Security"]},
  {"line":23,"type":"macro","summary":"Log the new counter value.","concepts":["Logs"]},
  {"line":24,"type":"logic","summary":"Return success from increment.","concepts":["Result"]},
  {"line":25,"type":"logic","summary":"End of increment handler.","concepts":["Rust"]},
  {"line":26,"type":"logic","summary":"End of program module.","concepts":["Rust Modules"]},

  {"line":28,"type":"macro","summary":"Derive account validation for Initialize context.","concepts":["Accounts"]},
  {"line":29,"type":"account","summary":"Define accounts required by initialize.","concepts":["Accounts"]},
  {"line":30,"type":"account","summary":"Begin account constraints for counter creation.","concepts":["Account Initialization"]},
  {"line":31,"type":"account","summary":"Initialize the counter account.","concepts":["Account Initialization"]},
  {"line":32,"type":"account","summary":"Specify payer for account creation.","concepts":["Payer","Rent"]},
  {"line":33,"type":"account","summary":"Allocate space for the counter account.","concepts":["Account Size"]},
  {"line":34,"type":"account","summary":"End of account constraint block.","concepts":["Accounts"]},
  {"line":35,"type":"account","summary":"Counter account being created.","concepts":["Accounts"]},
  {"line":36,"type":"account","summary":"Mark authority as mutable.","why":"Payerâ€™s lamports are debited.","concepts":["Signer","Mutability"]},
  {"line":37,"type":"account","summary":"Authority signer for initialization.","concepts":["Signer"]},
  {"line":38,"type":"account","summary":"System program for account creation.","concepts":["System Program"]},
  {"line":39,"type":"logic","summary":"End of Initialize accounts struct.","concepts":["Accounts"]},

  {"line":41,"type":"macro","summary":"Derive account validation for Increment context.","concepts":["Accounts"]},
  {"line":42,"type":"account","summary":"Define accounts required by increment.","concepts":["Accounts"]},
  {"line":43,"type":"security","summary":"Require counter to have the given authority.","why":"Prevents unauthorized updates.","concepts":["Authority","Security"]},
  {"line":44,"type":"account","summary":"Counter account to be mutated.","concepts":["Accounts"]},
  {"line":45,"type":"account","summary":"Authority signer for increment.","concepts":["Signer"]},
  {"line":46,"type":"logic","summary":"End of Increment accounts struct.","concepts":["Accounts"]},

  {"line":48,"type":"macro","summary":"Mark this struct as on-chain account data.","concepts":["Account Data"]},
  {"line":49,"type":"account","summary":"Define the Counter data layout.","concepts":["Account Data"]},
  {"line":50,"type":"account","summary":"Store authority public key.","concepts":["Authority"]},
  {"line":51,"type":"account","summary":"Store counter value.","concepts":["State"]},
  {"line":52,"type":"logic","summary":"End of Counter struct.","concepts":["Accounts"]},

  {"line":54,"type":"logic","summary":"Begin Counter impl block.","concepts":["Rust"]},
  {"line":55,"type":"logic","summary":"Define account size constant.","why":"Used to allocate correct space on init.","concepts":["Account Size"]},
  {"line":56,"type":"logic","summary":"End of impl block.","concepts":["Rust"]},

  {"line":58,"type":"macro","summary":"Mark this enum as program error codes.","concepts":["Errors"]},
  {"line":59,"type":"logic","summary":"Define custom error codes.","concepts":["Errors"]},
  {"line":60,"type":"macro","summary":"Attach human-readable error message.","concepts":["Errors"]},
  {"line":61,"type":"security","summary":"Overflow error variant.","why":"Returned when increment exceeds u64 limits.","concepts":["Errors","Security"]},
  {"line":62,"type":"logic","summary":"End of error enum.","concepts":["Errors"]}
]
