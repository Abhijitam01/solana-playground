[
  {"line": 1, "type": "import", "summary": "Import Anchor prelude for common types and macros."},
  {"line": 3, "type": "macro", "summary": "Declare the program ID for this contract."},
  {"line": 5, "type": "macro", "summary": "Mark this module as the program entrypoint."},
  {"line": 6, "type": "module", "summary": "Define the error-handling program module."},
  {"line": 7, "type": "import", "summary": "Bring module items into scope."},
  {"line": 9, "type": "instruction", "summary": "Initialize the usage state with a limit."},
  {"line": 10, "type": "logic", "summary": "Get a mutable reference to the state account."},
  {"line": 11, "type": "state", "summary": "Record the authority pubkey."},
  {"line": 12, "type": "state", "summary": "Store the maximum limit allowed."},
  {"line": 13, "type": "state", "summary": "Initialize usage to zero."},
  {"line": 14, "type": "log", "summary": "Log the initialization details."},
  {"line": 15, "type": "logic", "summary": "Return success from initialize."},
  {"line": 16, "type": "logic", "summary": "End of initialize instruction."},
  {"line": 18, "type": "instruction", "summary": "Consume usage with validation and error handling."},
  {"line": 19, "type": "security", "summary": "Begin authority validation with require!."},
  {"line": 20, "type": "security", "summary": "Ensure the signer matches the stored authority.", "risk": "Unauthorized users could mutate state."},
  {"line": 21, "type": "logic", "summary": "Return Unauthorized if the check fails."},
  {"line": 22, "type": "logic", "summary": "End the require! macro invocation."},
  {"line": 23, "type": "logic", "summary": "Reject zero or negative amounts."},
  {"line": 24, "type": "logic", "summary": "Safely add the amount using checked arithmetic."},
  {"line": 25, "type": "logic", "summary": "Ensure the new usage does not exceed the limit."},
  {"line": 26, "type": "state", "summary": "Persist the updated usage value."},
  {"line": 27, "type": "log", "summary": "Log the consumption event."},
  {"line": 28, "type": "logic", "summary": "Return success from consume."},
  {"line": 29, "type": "logic", "summary": "End of consume instruction."},
  {"line": 30, "type": "logic", "summary": "End of program module."},
  {"line": 32, "type": "account", "summary": "Define the accounts context for initialize."},
  {"line": 33, "type": "account", "summary": "Declare the Initialize accounts struct."},
  {"line": 34, "type": "account", "summary": "Initialize the state account with payer and space."},
  {"line": 35, "type": "account", "summary": "State account to store usage data."},
  {"line": 36, "type": "account", "summary": "Mark the authority signer as mutable."},
  {"line": 37, "type": "account", "summary": "Authority signer funding account creation."},
  {"line": 38, "type": "account", "summary": "System program needed for initialization."},
  {"line": 39, "type": "account", "summary": "End of the Initialize accounts struct."},
  {"line": 41, "type": "account", "summary": "Define the accounts context for consume."},
  {"line": 42, "type": "account", "summary": "Declare the Consume accounts struct."},
  {"line": 43, "type": "account", "summary": "State account must be mutable for updates."},
  {"line": 44, "type": "account", "summary": "State account holding usage data."},
  {"line": 45, "type": "account", "summary": "Authority signer approving the consume call."},
  {"line": 46, "type": "account", "summary": "End of the Consume accounts struct."},
  {"line": 48, "type": "account", "summary": "Mark this struct as on-chain account data."},
  {"line": 49, "type": "account", "summary": "Define the usage state account layout."},
  {"line": 50, "type": "state", "summary": "Authority that can consume usage."},
  {"line": 51, "type": "state", "summary": "Maximum allowed usage limit."},
  {"line": 52, "type": "state", "summary": "Current used amount."},
  {"line": 53, "type": "account", "summary": "End of the UsageState struct."},
  {"line": 55, "type": "logic", "summary": "Define helper constants for UsageState."},
  {"line": 56, "type": "logic", "summary": "Compute the byte size of UsageState."},
  {"line": 57, "type": "logic", "summary": "End of the UsageState impl."},
  {"line": 59, "type": "logic", "summary": "Define custom program error codes."},
  {"line": 60, "type": "logic", "summary": "Declare the error enum."},
  {"line": 61, "type": "logic", "summary": "Attach a message for the Unauthorized error."},
  {"line": 62, "type": "logic", "summary": "Unauthorized error variant."},
  {"line": 63, "type": "logic", "summary": "Attach a message for invalid amounts."},
  {"line": 64, "type": "logic", "summary": "InvalidAmount error variant."},
  {"line": 65, "type": "logic", "summary": "Attach a message for limit exceeded."},
  {"line": 66, "type": "logic", "summary": "LimitExceeded error variant."},
  {"line": 67, "type": "logic", "summary": "Attach a message for overflow."},
  {"line": 68, "type": "logic", "summary": "Overflow error variant."},
  {"line": 69, "type": "logic", "summary": "End of the error enum."}
]
