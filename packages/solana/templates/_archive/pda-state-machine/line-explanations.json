[
  {"line": 1, "type": "import", "summary": "Import Anchor prelude types and macros."},
  {"line": 3, "type": "macro", "summary": "Declare the program ID for this state machine."},
  {"line": 5, "type": "macro", "summary": "Mark the module as the program entrypoint."},
  {"line": 6, "type": "module", "summary": "Define the PDA state machine program module."},
  {"line": 7, "type": "import", "summary": "Bring module items into scope."},
  {"line": 9, "type": "instruction", "summary": "Initialize the PDA-backed state machine."},
  {"line": 10, "type": "logic", "summary": "Get a mutable reference to the machine account."},
  {"line": 11, "type": "state", "summary": "Store the authority pubkey on the machine."},
  {"line": 12, "type": "state", "summary": "Set the initial state to Idle."},
  {"line": 13, "type": "state", "summary": "Persist the PDA bump for validation."},
  {"line": 14, "type": "log", "summary": "Emit a log for initialization."},
  {"line": 15, "type": "logic", "summary": "Return success from initialize."},
  {"line": 16, "type": "logic", "summary": "End of initialize instruction."},
  {"line": 18, "type": "instruction", "summary": "Advance the machine to the next state."},
  {"line": 19, "type": "security", "summary": "Begin authority validation with require!."},
  {"line": 20, "type": "security", "summary": "Ensure the signer matches the machine authority.", "risk": "Unauthorized users could mutate state."},
  {"line": 21, "type": "logic", "summary": "Return Unauthorized if the check fails."},
  {"line": 22, "type": "logic", "summary": "End the require! macro invocation."},
  {"line": 23, "type": "state", "summary": "Compute and store the next state."},
  {"line": 24, "type": "log", "summary": "Log the state advance."},
  {"line": 25, "type": "logic", "summary": "Return success from advance."},
  {"line": 26, "type": "logic", "summary": "End of advance instruction."},
  {"line": 28, "type": "instruction", "summary": "Reset the machine back to Idle."},
  {"line": 29, "type": "security", "summary": "Begin authority validation for reset."},
  {"line": 30, "type": "security", "summary": "Ensure the signer matches the machine authority."},
  {"line": 31, "type": "logic", "summary": "Return Unauthorized if the check fails."},
  {"line": 32, "type": "logic", "summary": "End the require! macro invocation."},
  {"line": 33, "type": "state", "summary": "Set the machine state back to Idle."},
  {"line": 34, "type": "log", "summary": "Log the reset event."},
  {"line": 35, "type": "logic", "summary": "Return success from reset."},
  {"line": 36, "type": "logic", "summary": "End of reset instruction."},
  {"line": 37, "type": "logic", "summary": "End of program module."},
  {"line": 39, "type": "account", "summary": "Define the accounts context for initialize."},
  {"line": 40, "type": "account", "summary": "Declare the Initialize accounts struct."},
  {"line": 41, "type": "account", "summary": "Start defining account constraints for the machine PDA."},
  {"line": 42, "type": "account", "summary": "Initialize the machine PDA."},
  {"line": 43, "type": "account", "summary": "Use the authority as the payer for creation."},
  {"line": 44, "type": "account", "summary": "Allocate space for the machine account."},
  {"line": 45, "type": "account", "summary": "Derive the PDA with a static seed and authority pubkey."},
  {"line": 46, "type": "account", "summary": "Store the PDA bump for validation."},
  {"line": 47, "type": "account", "summary": "End the PDA account attributes."},
  {"line": 48, "type": "account", "summary": "Machine PDA account to initialize."},
  {"line": 49, "type": "account", "summary": "Mark the authority signer as mutable."},
  {"line": 50, "type": "account", "summary": "Authority signer funding the PDA."},
  {"line": 51, "type": "account", "summary": "System program needed for account creation."},
  {"line": 52, "type": "account", "summary": "End of the Initialize accounts struct."},
  {"line": 54, "type": "account", "summary": "Define the accounts context for advance/reset."},
  {"line": 55, "type": "account", "summary": "Declare the Advance accounts struct."},
  {"line": 56, "type": "account", "summary": "Start defining PDA constraints for the machine."},
  {"line": 57, "type": "account", "summary": "Machine PDA must be mutable for state updates."},
  {"line": 58, "type": "account", "summary": "Re-derive the PDA with the same seeds."},
  {"line": 59, "type": "account", "summary": "Validate the PDA bump against stored data."},
  {"line": 60, "type": "account", "summary": "End the PDA account attributes."},
  {"line": 61, "type": "account", "summary": "Machine PDA account to mutate."},
  {"line": 62, "type": "account", "summary": "Authority signer authorizing transitions."},
  {"line": 63, "type": "account", "summary": "End of the Advance accounts struct."},
  {"line": 65, "type": "account", "summary": "Mark this struct as on-chain account data."},
  {"line": 66, "type": "account", "summary": "Define the machine account layout."},
  {"line": 67, "type": "state", "summary": "Authority allowed to transition state."},
  {"line": 68, "type": "state", "summary": "Current state of the machine."},
  {"line": 69, "type": "state", "summary": "PDA bump used for verification."},
  {"line": 70, "type": "account", "summary": "End of the Machine struct."},
  {"line": 72, "type": "macro", "summary": "Derive serialization traits for the state enum."},
  {"line": 73, "type": "state", "summary": "Define the machine state enum."},
  {"line": 74, "type": "state", "summary": "Idle state before any work."},
  {"line": 75, "type": "state", "summary": "Running state while work is in progress."},
  {"line": 76, "type": "state", "summary": "Complete state when finished."},
  {"line": 77, "type": "state", "summary": "End of the MachineState enum."},
  {"line": 79, "type": "logic", "summary": "Implement helpers for MachineState."},
  {"line": 80, "type": "logic", "summary": "Define the next-state transition function."},
  {"line": 81, "type": "logic", "summary": "Match on the current state."},
  {"line": 82, "type": "logic", "summary": "Idle transitions to Running."},
  {"line": 83, "type": "logic", "summary": "Running transitions to Complete."},
  {"line": 84, "type": "logic", "summary": "Complete remains Complete."},
  {"line": 85, "type": "logic", "summary": "End of the match expression."},
  {"line": 86, "type": "logic", "summary": "End of next-state function."},
  {"line": 87, "type": "logic", "summary": "End of MachineState impl."},
  {"line": 89, "type": "logic", "summary": "Define helper constants for Machine account."},
  {"line": 90, "type": "logic", "summary": "Compute the byte size of Machine account data."},
  {"line": 91, "type": "logic", "summary": "End of Machine impl."},
  {"line": 93, "type": "logic", "summary": "Define program-specific error codes."},
  {"line": 94, "type": "logic", "summary": "Declare the error enum."},
  {"line": 95, "type": "logic", "summary": "Attach a message for the Unauthorized error."},
  {"line": 96, "type": "logic", "summary": "Unauthorized error variant."},
  {"line": 97, "type": "logic", "summary": "End of the error enum."}
]
