[
  {"line":1,"type":"macro","summary":"Import Anchor prelude types and macros.","why":"Provides Context, Result, Account, and macros used below.","concepts":["Anchor"]},
  {"line":3,"type":"macro","summary":"Declare the program ID for this program.","why":"Solana uses this ID to route instructions and set account ownership.","risk":"Program will not compile without a declared ID.","concepts":["Program ID"]},
  {"line":5,"type":"macro","summary":"Mark the module as the Anchor program entry point.","why":"Anchor generates instruction dispatch from this module.","concepts":["Instructions"]},
  {"line":6,"type":"instruction","summary":"Define the program module namespace.","concepts":["Program Structure"]},
  {"line":7,"type":"logic","summary":"Bring parent module symbols into scope.","concepts":["Rust Modules"]},

  {"line":9,"type":"instruction","summary":"Define the initialize instruction handler.","why":"Creates and initializes a new account with data.","concepts":["Account Initialization","Instructions"]},
  {"line":10,"type":"logic","summary":"Create a mutable reference to the program account.","why":"Allows writing data into the account.","concepts":["Accounts"]},
  {"line":11,"type":"logic","summary":"Write the provided data into the account.","why":"Stores the initial state for this account.","concepts":["Account Data"]},
  {"line":12,"type":"logic","summary":"Set the account authority to the caller.","why":"Defines who is allowed to update this account later.","risk":"Incorrect authority can lock or expose the account.","concepts":["Authority"]},
  {"line":13,"type":"macro","summary":"Log the initialization event.","why":"Provides visibility in transaction logs.","concepts":["Logs"]},
  {"line":14,"type":"logic","summary":"Return success from initialize.","concepts":["Result"]},
  {"line":15,"type":"logic","summary":"End of initialize handler.","concepts":["Rust"]},

  {"line":17,"type":"instruction","summary":"Define the update instruction handler.","why":"Allows updating account data after authorization.","concepts":["Instructions","Authority"]},
  {"line":18,"type":"logic","summary":"Create a mutable reference to the program account.","why":"Enables updating the account data.","concepts":["Accounts"]},
  {"line":19,"type":"security","summary":"Start an authorization check.","why":"Only the authority should update the account.","risk":"Without this, anyone can modify state.","concepts":["Authority","Security"]},
  {"line":20,"type":"security","summary":"Compare stored authority with signer key.","why":"Ensures the signer is the recorded authority.","risk":"Incorrect check breaks access control.","concepts":["Authority"]},
  {"line":21,"type":"security","summary":"Return Unauthorized error if check fails.","why":"Provides a clear failure reason.","concepts":["Errors"]},
  {"line":22,"type":"security","summary":"End of authorization check.","concepts":["Security"]},
  {"line":23,"type":"logic","summary":"Update the stored data value.","why":"Persists the new state.","concepts":["Account Data"]},
  {"line":24,"type":"macro","summary":"Log the updated value.","why":"Provides visibility in transaction logs.","concepts":["Logs"]},
  {"line":25,"type":"logic","summary":"Return success from update.","concepts":["Result"]},
  {"line":26,"type":"logic","summary":"End of update handler.","concepts":["Rust"]},
  {"line":27,"type":"logic","summary":"End of program module.","concepts":["Rust Modules"]},

  {"line":29,"type":"macro","summary":"Derive account validation for Initialize context.","why":"Anchor validates accounts before initialize executes.","concepts":["Accounts"]},
  {"line":30,"type":"account","summary":"Define accounts required by initialize.","concepts":["Accounts"]},
  {"line":31,"type":"account","summary":"Begin constraints for the new account.","concepts":["Account Initialization"]},
  {"line":32,"type":"account","summary":"Initialize the account if it doesn’t exist.","why":"Creates the account on first run.","concepts":["Account Initialization"]},
  {"line":33,"type":"account","summary":"Specify the payer for account creation.","why":"The signer funds rent and creation fees.","concepts":["Payer","Rent"]},
  {"line":34,"type":"account","summary":"Allocate space for account data.","why":"Includes discriminator and fields.","concepts":["Account Size"]},
  {"line":35,"type":"account","summary":"End of account constraint block.","concepts":["Accounts"]},
  {"line":36,"type":"account","summary":"The program-owned account being created.","concepts":["Accounts"]},
  {"line":37,"type":"account","summary":"Mark the user as mutable.","why":"The payer’s lamports will be debited.","concepts":["Signer","Mutability"]},
  {"line":38,"type":"account","summary":"User signer who pays for account creation.","concepts":["Signer","Payer"]},
  {"line":39,"type":"account","summary":"System program reference for account creation.","concepts":["System Program"]},
  {"line":40,"type":"logic","summary":"End of Initialize accounts struct.","concepts":["Accounts"]},

  {"line":42,"type":"macro","summary":"Derive account validation for Update context.","concepts":["Accounts"]},
  {"line":43,"type":"account","summary":"Define accounts required by update.","concepts":["Accounts"]},
  {"line":44,"type":"account","summary":"Mark the account as mutable for updates.","concepts":["Mutability"]},
  {"line":45,"type":"account","summary":"Account being updated.","concepts":["Accounts"]},
  {"line":46,"type":"account","summary":"User signer attempting the update.","concepts":["Signer"]},
  {"line":47,"type":"logic","summary":"End of Update accounts struct.","concepts":["Accounts"]},

  {"line":49,"type":"macro","summary":"Mark this struct as on-chain account data.","why":"Anchor adds discriminator and serialization.","concepts":["Account Data"]},
  {"line":50,"type":"account","summary":"Define the MyAccount data layout.","concepts":["Account Data"]},
  {"line":51,"type":"account","summary":"Stored numeric data field.","concepts":["Account Data"]},
  {"line":52,"type":"account","summary":"Authority public key for access control.","concepts":["Authority"]},
  {"line":53,"type":"logic","summary":"End of MyAccount struct.","concepts":["Accounts"]},

  {"line":55,"type":"logic","summary":"Begin impl block for MyAccount constants.","concepts":["Rust"]},
  {"line":56,"type":"logic","summary":"Define account size constant (discriminator + fields).","why":"Used when allocating account space.","concepts":["Account Size"]},
  {"line":57,"type":"logic","summary":"End of impl block.","concepts":["Rust"]},

  {"line":59,"type":"macro","summary":"Mark this enum as program error codes.","why":"Anchor generates error codes and messages.","concepts":["Errors"]},
  {"line":60,"type":"logic","summary":"Define custom error codes for this program.","concepts":["Errors"]},
  {"line":61,"type":"macro","summary":"Attach a human-readable error message.","concepts":["Errors"]},
  {"line":62,"type":"security","summary":"Unauthorized error variant.","why":"Returned when a non-authority tries to update.","concepts":["Authority","Security"]},
  {"line":63,"type":"logic","summary":"End of error enum.","concepts":["Errors"]}
]
